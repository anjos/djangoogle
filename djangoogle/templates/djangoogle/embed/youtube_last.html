{% load i18n %}
{% comment %}requires "objects" (last N videos){% endcomment %}
{% if objects %}
<span class="djangoogle">
  <span class="bubble">
    <span class="list">
      <table class="horizontal">
        <tr class="bubble_title"><td colspan="{{ objects|length }}">{% trans "Latest videos" %}</td></tr>
        <tr>
          {% for obj in objects %}
          <td class="bubble_contents {% cycle "even" "odd" %}">
          {% with 80 as thumbheight %}<!-- hardcoded widthxheight for thumbs -->
            <table class="preview">
              <tr>
                <td class="thumbnail">
                  <a href="{% url youtube-view-video obj.parent.id obj.id %}"><img width="{% widthratio thumbheight obj.thumbnail.height obj.thumbnail.width %}" height="{{ thumbheight }}" src="{{ obj.thumbnail.url }}"/></a>
                </td>
                <td>
                  <div class="object_title">{{ obj.title|truncatewords:"5" }}</div>
                  <div class="comment">
                    {{ obj.duration }} {% trans "seconds" %}, {% trans "at" %} <a href="{% url youtube-list-view obj.parent.id %}" title="{% trans 'Click here to only view videos from this playlist' %}">{{ obj.parent.name }}</a>, {% trans "updated" %} {{ obj.published|date:"D, j/M/Y" }}
                    {% if obj.description %}<br/>{{ obj.description|truncatewords:"8" }} {% endif %}
                  </div>
                </td>
              </tr>
            </table><!-- ends class="preview" -->
          {% endwith %}
          </td><!-- ends class="bubble_contents" -->
          {% endfor %}
        </tr>
      </table>
    </span><!-- ends class="horizontal list" -->
  </span><!-- ends class="bubble" -->
</span><!-- ends class="djangoogle" -->
{% endif %}
